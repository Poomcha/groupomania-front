"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[26],{142:function(e,t,i){i.r(t),i.d(t,{default:function(){return ie}});i(2526),i(1817);var s=i(6252),o=i(3577),r=i(9963),n={id:"my-profile",class:"my-profile"},l={class:"ctn--profile-view"},c={key:0,class:"my-profile__change-profile ctn ctn--column",id:"change-profile"},a=(0,s._)("h1",null,"Modification du profil",-1),u={key:1,id:"mes-infos",class:"my-profile__my-infos"},m=(0,s._)("h1",null,"Mes informations",-1),f={class:"text--normal-f text--bold-w text--label"},d=(0,s.Uk)(" Email : "),_={class:"text--normal-w"},p={key:2,id:"change-pwd"},h=(0,s._)("h1",null,"Modification du mot de passe",-1),b={key:3,id:"my-posts",class:"my-profile__my-posts"},g=(0,s._)("h1",null,"Mes publications",-1),k={key:4,id:"my-coms",class:"my-profile__my-coms"},y=(0,s._)("h1",null,"Mes commentaires",-1),v={key:5,id:"delete-my-account"},P=(0,s._)("h1",null,"Supprimer mon compte",-1),w={key:6,id:"profile",class:"my-profile__profile ctn ctn--column"},A=(0,s._)("h1",null,"Mon profil",-1),I={key:7,class:"btn my-profile__backlink",id:"back-link-ctn"},C={class:"text--btn text--normal-w text--normal-f"};function N(e,t,i,N,U,D){var O=(0,s.up)("Sidebar"),M=(0,s.up)("FormProfile"),j=(0,s.up)("FormPwd"),L=(0,s.up)("MyPosts"),E=(0,s.up)("CardPost"),x=(0,s.up)("DeleteAccount"),T=(0,s.up)("CardProfile");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(O,{sidebar_items:this.sidebar_items,class:"my-profile__sidebar"},null,8,["sidebar_items"]),(0,s._)("div",l,[U.links.changeProfile||!e.get_profile_status?((0,s.wg)(),(0,s.iD)("section",c,[a,(0,s.Wm)(M,{onProfileupdated:t[0]||(t[0]=function(e){return D.goToProfil()}),oldFirstName:e.get_user_profile.firstName,oldLastName:e.get_user_profile.lastName,oldPosition:e.get_user_profile.position,oldDescription:e.get_user_profile.description,oldImg:e.get_user_profile.profilPictureURL},null,8,["oldFirstName","oldLastName","oldPosition","oldDescription","oldImg"])])):U.links.myInfos?((0,s.wg)(),(0,s.iD)("section",u,[m,(0,s._)("ul",f,[(0,s._)("li",null,[d,(0,s._)("span",_,(0,o.zw)(e.get_user_email),1)])])])):U.links.changePwd?((0,s.wg)(),(0,s.iD)("section",p,[h,(0,s.Wm)(j)])):U.links.myPosts?((0,s.wg)(),(0,s.iD)("section",b,[g,(0,s.Wm)(L)])):U.links.myComs?((0,s.wg)(),(0,s.iD)("section",k,[y,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.get_com_post_from_user(e.get_profile_id),(function(t){return(0,s.wg)(),(0,s.j4)(E,{key:t.id,id:t.id,creatorFirstName:t.Profile.firstName,creatorLastName:t.Profile.lastName,creatorImgUrl:t.Profile.profilPictureURL,creatorId:t.Profile.userId,title:t.title,content:t.text,imgUrl:t.postPictureURL,nbOfCom:e.get_com_number_for_post(t.id)},null,8,["id","creatorFirstName","creatorLastName","creatorImgUrl","creatorId","title","content","imgUrl","nbOfCom"])})),128))])):U.links.deleteAccount?((0,s.wg)(),(0,s.iD)("section",v,[P,(0,s.Wm)(x,{userId:e.get_user_id},null,8,["userId"])])):((0,s.wg)(),(0,s.iD)("section",w,[A,(0,s.Wm)(T,{userId:e.get_user_profile.userId,profilePicURL:e.get_user_profile.profilPictureURL?e.get_user_profile.profilPictureURL:void 0,firstName:e.get_user_profile.firstName,lastName:e.get_user_profile.lastName,position:e.get_user_profile.position?e.get_user_profile.position:void 0,description:e.get_user_profile.description?e.get_user_profile.description:void 0},null,8,["userId","profilePicURL","firstName","lastName","position","description"])])),D.seeBackLink&&!this.links.myProfile&&e.get_profile_status?((0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("a",{class:"link",href:"",onClick:t[1]||(t[1]=(0,r.iM)((function(e){return D.back()}),["prevent"]))},[(0,s._)("span",C,(0,o.zw)(U.backlink),1)])])):(0,s.kq)("",!0)])])}var U=i(4648),D=(i(9826),i(1539),i(2479),i(4747),i(7941),i(1930)),O=i(6307),M={id:"sidebar",class:"sidebar"},j={class:"ctn--column"},L=["onClick"];function E(e,t,i,n,l,c){return(0,s.wg)(),(0,s.iD)("aside",M,[(0,s._)("ul",j,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.sidebar_items,(function(e){return(0,s.wg)(),(0,s.iD)("li",{key:e},[(0,s._)("a",{class:(0,o.C_)([{activeProfileLink:e.isActive},"link text--normal-w text--normal-f"]),href:"",onClick:(0,r.iM)(e.method,["prevent"])},(0,o.zw)(e.label),11,L)])})),128))])])}i(4553);var x={name:"Sidebar",el:"#sidebar",data:function(){return{}},computed:{},props:{sidebar_items:{type:Object,required:!0}},methods:{getActiveLink:function(){return Object.values(this.links_status).findIndex((function(e){return e}))}}},T=i(3744);const Z=(0,T.Z)(x,[["render",E]]);var S=Z,F=i(4716),R={id:"my-posts"};function W(e,t,i,o,r,n){var l=(0,s.up)("CardPost");return(0,s.wg)(),(0,s.iD)("section",R,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.get_my_posts,(function(t){return(0,s.wg)(),(0,s.j4)(l,{key:t.id,id:t.id,title:t.title,content:t.text,imgUrl:t.postPictureURL,creatorId:e.get_user_profile.userId,creatorFirstName:e.get_user_profile.firstName,creatorLastName:e.get_user_profile.lastName,creatorImgUrl:e.get_user_profile.profilPictureURL,nbOfCom:e.get_com_number_for_post(t.id)},null,8,["id","title","content","imgUrl","creatorId","creatorFirstName","creatorLastName","creatorImgUrl","nbOfCom"])})),128))])}var B=i(8637),q=i(898),z={name:"MyPosts",el:"#my-posts",components:{CardPost:q.Z},beforeCreate:function(){this.$store.dispatch("commit_my_posts",this.$store.getters.get_profile_id)},computed:(0,U.Z)({},(0,B.Se)(["get_my_posts","get_user_profile","get_com_number_for_post"])),watch:{}};const H=(0,T.Z)(z,[["render",W]]);var K=H,Y={id:"delete-account",class:"ctn ctn--column ctn--space-between"},$=(0,s._)("p",{class:"text--normal-w text--warning ctn--column input-wrap text--center"},[(0,s.Uk)(" Êtes-vous sûr de vouloir supprimer votre compte ?"),(0,s._)("br"),(0,s.Uk)(" Attention cette action est irréversible ! ")],-1);function G(e,t,i,o,r,n){var l=(0,s.up)("SubmitButton");return(0,s.wg)(),(0,s.iD)("div",Y,[$,(0,s._)("form",{onSubmit:t[0]||(t[0]=function(e){return n.deleteAccount()})},[(0,s.Wm)(l,{label:this.label.delete},null,8,["label"])],32)])}var J=i(3403),Q={name:"DeleteAccount",el:"#delete-account",components:{SubmitButton:J.Z},props:{userId:{type:String,required:!0}},data:function(){return{label:{delete:"Supprimer"}}},methods:{deleteAccount:function(){this.$store.dispatch("delete_user",this.userId)}}};const V=(0,T.Z)(Q,[["render",G]]);var X=V,ee={name:"MyProfile",el:"#my-profile",data:function(){return{sidebar_items:{myProfile:{label:"Mon profil",method:this.goToProfil,isActive:!0},myInfos:{label:"Mes informations",method:this.goToInfos,isActive:!1},myPosts:{label:"Mes publications",method:this.goToMyPosts,isActive:!1},myComs:{label:"Mes publications commentées",method:this.goToMyComs,isActive:!1},updateProfile:{label:"Modifier mon profil",method:this.goToUpdateProfile,isActive:!1},updatePwd:{label:"Modifier mon mot de passe",method:this.goToUpdatePwd,isActive:!1},deleteAccount:{label:"Supprimer mon compte",method:this.goToDeleteAccount,isActive:!1}},backlink:"Retour",links:{myProfile:!0,changePwd:!1,changeProfile:!1,myInfos:!1,myPosts:!1,myComs:!1,deleteAccount:!1}}},components:{Sidebar:S,CardProfile:O.Z,FormProfile:D.Z,FormPwd:F.Z,MyPosts:K,CardPost:q.Z,DeleteAccount:X},computed:(0,U.Z)((0,U.Z)({},(0,B.Se)(["get_update_status","get_user_profile","get_profile_status","get_user_email","get_user_id","get_com_post_from_user","get_profile_id","get_com_number_for_post"])),{},{seeBackLink:function(){return Object.values(this.links).find((function(e){return e}))}}),methods:(0,U.Z)((0,U.Z)({},(0,B.nv)(["commit_update_status"])),{},{goToProfil:function(){var e=this;Object.keys(this.links).forEach((function(t){return e.links[t]=!1})),this.links.myProfile=!0,Object.keys(this.sidebar_items).forEach((function(t){return e.sidebar_items[t].isActive=!1})),this.sidebar_items.myProfile.isActive=!0},goToInfos:function(){var e=this;Object.keys(this.links).forEach((function(t){return e.links[t]=!1})),this.links.myInfos=!0,Object.keys(this.sidebar_items).forEach((function(t){return e.sidebar_items[t].isActive=!1})),this.sidebar_items.myInfos.isActive=!0},goToUpdateProfile:function(){var e=this;Object.keys(this.links).forEach((function(t){return e.links[t]=!1})),this.links.changeProfile=!0,Object.keys(this.sidebar_items).forEach((function(t){return e.sidebar_items[t].isActive=!1})),this.sidebar_items.updateProfile.isActive=!0},goToUpdatePwd:function(){var e=this;Object.keys(this.links).forEach((function(t){return e.links[t]=!1})),this.links.changePwd=!0,Object.keys(this.sidebar_items).forEach((function(t){return e.sidebar_items[t].isActive=!1})),this.sidebar_items.updatePwd.isActive=!0},goToMyPosts:function(){var e=this;Object.keys(this.links).forEach((function(t){return e.links[t]=!1})),this.links.myPosts=!0,Object.keys(this.sidebar_items).forEach((function(t){return e.sidebar_items[t].isActive=!1})),this.sidebar_items.myPosts.isActive=!0},back:function(){var e=this;Object.keys(this.links).forEach((function(t){return e.links[t]=!1})),Object.keys(this.sidebar_items).forEach((function(t){return e.sidebar_items[t].isActive=!1})),this.sidebar_items.myProfile.isActive=!0},goToMyComs:function(){var e=this;Object.keys(this.links).forEach((function(t){return e.links[t]=!1})),this.links.myComs=!0,Object.keys(this.sidebar_items).forEach((function(t){return e.sidebar_items[t].isActive=!1})),this.sidebar_items.myComs.isActive=!0},goToDeleteAccount:function(){var e=this;Object.keys(this.links).forEach((function(t){return e.links[t]=!1})),this.links.deleteAccount=!0,Object.keys(this.sidebar_items).forEach((function(t){return e.sidebar_items[t].isActive=!1})),this.sidebar_items.deleteAccount.isActive=!0}})};const te=(0,T.Z)(ee,[["render",N]]);var ie=te}}]);
//# sourceMappingURL=26-legacy.55c3d2d0.js.map