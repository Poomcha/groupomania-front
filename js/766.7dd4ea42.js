"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[766],{5485:function(t,e,r){r.d(e,{Z:function(){return p}});var i=r(6252),o=r(3577);const l={id:"date",class:"date text--small-f text--normal-w"};function s(t,e,r,s,n,a){return(0,i.wg)(),(0,i.iD)("p",l,(0,o.zw)(this.date),1)}var n=r(8637),a={name:"Date",el:"#date",props:{id:{type:String,required:!0},type:{type:String,required:!0}},computed:{...(0,n.Se)(["get_local_com_date","get_local_post_date"]),date(){return"POST"===this.type?this.get_local_post_date(this.id):"COM"===this.type?this.get_local_com_date(this.id):void 0}}},c=r(3744);const d=(0,c.Z)(a,[["render",s]]);var p=d},1513:function(t,e,r){r.d(e,{Z:function(){return m}});var i=r(6252),o=r(3577),l=r(4217);const s={id:"delete-button"},n=(0,i._)("img",{src:l,alt:"",class:"icon icon--small"},null,-1),a={key:0,class:"text--normal-w"};function c(t,e,r,l,c,d){return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("button",{onClick:e[0]||(e[0]=(...t)=>r.deleteThis&&r.deleteThis(...t)),class:"btn btn--bg_w btn--modify-delete"},[n,d.isLargeScreen?((0,i.wg)(),(0,i.iD)("span",a,(0,o.zw)(r.label),1)):(0,i.kq)("",!0)])])}var d={name:"DeleteButton",el:"#delete-button",props:{deleteThis:{type:Function},label:{type:String,default:"Supprimer"}},computed:{isLargeScreen(){return!!window.matchMedia("(min-width: 768px)").matches}}},p=r(3744);const u=(0,p.Z)(d,[["render",c]]);var m=u},3417:function(t,e,r){r.d(e,{Z:function(){return m}});var i=r(6252),o=r(3577),l=r(3562);const s={id:"modify-button"},n=(0,i._)("img",{src:l,alt:"",class:"icon icon--small"},null,-1),a={key:0,class:"text--normal-w"};function c(t,e,r,l,c,d){return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("button",{onClick:e[0]||(e[0]=(...t)=>r.modifyThis&&r.modifyThis(...t)),class:"btn btn--bg_w btn--modify-delete"},[n,d.isLargeScreen?((0,i.wg)(),(0,i.iD)("span",a,(0,o.zw)(r.label),1)):(0,i.kq)("",!0)])])}var d={name:"modifyButton",el:"#modify-button",props:{modifyThis:{type:Function},label:{type:String,default:"Modifier"}},computed:{isLargeScreen(){return!!window.matchMedia("(min-width: 768px)").matches}}},p=r(3744);const u=(0,p.Z)(d,[["render",c]]);var m=u},898:function(t,e,r){r.d(e,{Z:function(){return I}});var i=r(6252),o=r(9963),l=r(3577);const s={id:"card-post",class:"card-post ctn--column"},n={class:"ctn ctn--space-between"},a={class:"card-post__creator-infos"},c=["src"],d={class:"text--normal-w"},p={key:0,id:"controllers",class:"ctn ctn--flex-end card-post__controllers"},u={class:"card-post__post-infos"},m={key:0,id:"post-img-ctn",class:"card-post__post-infos__post-img-ctn"},f=["src"],_={id:"title-post-ctn",class:"text--large-f text--normal-w"},g={id:"content-post-ctn",class:"text--normal-f"},h={class:"text--black"},v={key:0,class:"text--normal-w text--label"},w={id:"comments-post-ctn",class:"text--normal-f text--normal-w"};function y(t,e,r,y,P,x){const b=(0,i.up)("ModifyButton"),k=(0,i.up)("DeleteButton"),S=(0,i.up)("Date");return(0,i.wg)(),(0,i.iD)("figure",s,[(0,i._)("div",n,[(0,i._)("div",a,[(0,i._)("a",{href:"",onClick:e[1]||(e[1]=(0,o.iM)((t=>x.goToProfile()),["prevent"])),class:"ctn ctn--flex-start link"},[(0,i._)("div",null,[(0,i._)("img",{src:null===r.creatorImgUrl?void 0:r.creatorImgUrl,alt:"Profil Picture",class:"img img--card_post_profile",onError:e[0]||(e[0]=(...t)=>x.imgUrlAlt&&x.imgUrlAlt(...t))},null,40,c)]),(0,i._)("div",null,[(0,i._)("span",d,(0,l.zw)(r.creatorFirstName+" "+r.creatorLastName),1)])])]),r.creatorId===t.get_user_id||t.is_moderator?((0,i.wg)(),(0,i.iD)("div",p,[(0,i.Wm)(b,{modifyThis:x.modifyPost},null,8,["modifyThis"]),(0,i.Wm)(k,{deleteThis:x.deletePost},null,8,["deleteThis"])])):(0,i.kq)("",!0)]),(0,i.Wm)(S,{type:this.type,id:this.postId,class:"date-ctn"},null,8,["type","id"]),(0,i._)("div",u,[(0,i._)("a",{href:"",onClick:e[2]||(e[2]=(0,o.iM)((t=>x.goToPost()),["prevent"])),class:"link"},[this.imgUrl?((0,i.wg)(),(0,i.iD)("div",m,[(0,i._)("img",{src:r.imgUrl,alt:""},null,8,f)])):(0,i.kq)("",!0),(0,i._)("div",null,[(0,i._)("div",_,[(0,i._)("span",null,(0,l.zw)(r.title),1)]),(0,i._)("div",g,[(0,i._)("p",h,[(0,i.Uk)((0,l.zw)(x.shortContent),1),x.readMore?((0,i.wg)(),(0,i.iD)("span",v,"...lire plus")):(0,i.kq)("",!0)])]),(0,i._)("div",w,[(0,i._)("span",null,(0,l.zw)(r.nbOfCom)+" commentaires",1)])])])])])}var P=r(1513),x=r(3417),b=r(5485),k=r(8637),S={name:"CardPost",el:"#card-post",components:{DeleteButton:P.Z,ModifyButton:x.Z,Date:b.Z},props:{id:{type:String,required:!0},creatorId:{type:String,required:!0},creatorFirstName:{type:String,required:!0},creatorLastName:{type:String,required:!0},creatorImgUrl:{type:String,default:"https://polar-escarpment-64317.herokuapp.com/images_default/profile_pic_placeholder.svg"},title:{type:String,default:"Publication sans titre",required:!0},content:{type:String,default:"Contenu de la publication"},imgUrl:{type:String,default:void 0},nbOfCom:{type:Number,default:0}},data(){return{postId:this.id,type:"POST"}},computed:{...(0,k.Se)(["get_profile_id","get_user_id","is_moderator","get_com_number_for_post"]),shortContent(){return this.content.length>50?`${this.content.slice(0,200)}`:this.content},readMore(){return this.content.length>50}},methods:{goToPost(){this.$router.push({name:"post",params:{postId:this.postId}})},goToProfile(){this.$store.dispatch("go_to_profile",{local_profile_id:this.get_profile_id,local_user_id:this.get_user_id,target_user_id:this.creatorId})},deletePost(){this.$store.dispatch("delete_my_post",this.postId),"post"===this.$route.name&&this.$router.push({name:"home"}),this.deleted=!0},modifyPost(){this.$router.push({name:"modify-post",params:{postId:this.postId}})},imgUrlAlt(t){t.target.src="https://polar-escarpment-64317.herokuapp.com/images_default/profile_pic_placeholder.svg"}}},U=r(3744);const N=(0,U.Z)(S,[["render",y]]);var I=N},6307:function(t,e,r){r.d(e,{Z:function(){return x}});var i=r(6252),o=r(3577),l=r(9963);const s={id:"picture-ctn",class:"card-profile__img-ctn"},n=["src"],a={class:"card-profile__infos-ctn ctn--column"},c={class:"ctn ctn--flex-start"},d={class:"text--bold-w text--normal-f text--red-underline"},p={id:"firstName"},u={id:"lastName"},m={key:0,id:"email-ctn",class:"text--normal-w text--normal-f"},f={id:"position-ctn",class:"text--light text--normal-f text--bold-w"},_={id:"position"},g={id:"description-ctn",class:"text--black text--small-f"},h={id:"description"};function v(t,e,r,v,w,y){return(0,i.wg)(),(0,i.iD)("figure",{id:"cardprofile",class:(0,o.C_)(["card-profile",{cardProfilesView:y.isProfilesView}])},[(0,i._)("a",{href:"",class:"link text--normal-w text--normal-f ctn ctn--flex-start",onClick:e[1]||(e[1]=(0,l.iM)((e=>t.$emit("sendid",this.userId)),["prevent"]))},[(0,i._)("div",s,[(0,i._)("img",{src:r.profilePicURL,alt:"Profile Picture",onError:e[0]||(e[0]=(...t)=>y.imgUrlAlt&&y.imgUrlAlt(...t))},null,40,n)]),(0,i._)("div",a,[(0,i._)("div",c,[(0,i._)("div",d,[(0,i._)("span",p,(0,o.zw)(r.firstName+" "),1),(0,i._)("span",u,(0,o.zw)(r.lastName),1)])]),r.email?((0,i.wg)(),(0,i.iD)("div",m,(0,o.zw)(r.email),1)):(0,i.kq)("",!0),(0,i._)("div",f,[(0,i._)("p",_,(0,o.zw)(r.position),1)]),(0,i._)("div",g,[(0,i._)("p",h,(0,o.zw)(r.description),1)])])])],2)}var w={name:"CardProfile",el:"#cardprofile",props:{userId:{type:String,required:!0},profilePicURL:{type:String,default:"https://polar-escarpment-64317.herokuapp.com/images_default/profile_pic_placeholder.svg"},firstName:{type:String,required:!0},lastName:{type:String,required:!0},position:{type:String,default:"Travaille chez Groupomania"},description:{type:String,default:"✌️"},email:{type:String},computed:{}},data(){return{}},computed:{isProfilesView(){return"profiles"===this.$route.name}},methods:{imgUrlAlt(t){t.target.src="https://polar-escarpment-64317.herokuapp.com/images_default/profile_pic_placeholder.svg"}}},y=r(3744);const P=(0,y.Z)(w,[["render",v]]);var x=P},947:function(t,e,r){r.d(e,{Z:function(){return p}});var i=r(6252);const o={id:"flux-post",class:"flux-post ctn ctn--column"};function l(t,e,r,l,s,n){const a=(0,i.up)("CardPost");return(0,i.wg)(),(0,i.iD)("section",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.posts,(e=>((0,i.wg)(),(0,i.j4)(a,{key:e.id,title:e.title,content:e.text,imgUrl:e.postPictureURL,id:e.id,creatorId:e.Profile?e.Profile.userId:t.get_local_profile.userId,creatorFirstName:e.Profile?e.Profile.firstName:t.get_local_profile.firstName,creatorLastName:e.Profile?e.Profile.lastName:t.get_local_profile.lastName,creatorImgUrl:e.Profile?e.Profile.profilPictureURL:t.get_local_profile.profilPictureURL,nbOfCom:t.get_nb_of_com(e.id)},null,8,["title","content","imgUrl","id","creatorId","creatorFirstName","creatorLastName","creatorImgUrl","nbOfCom"])))),128))])}var s=r(898),n=r(8637),a={name:"FluxPost",el:"#flux-post",components:{CardPost:s.Z},props:{},computed:{...(0,n.Se)(["get_local_posts","get_local_profile","get_nb_of_com"]),posts(){return"home"===this.$route.name?this.get_local_posts:this.get_local_profile.Posts}}},c=r(3744);const d=(0,c.Z)(a,[["render",l]]);var p=d},4766:function(t,e,r){r.r(e),r.d(e,{default:function(){return m}});var i=r(6252);const o={id:"profile",class:"ctn ctn--column profile"},l=(0,i._)("h1",{class:"text--large-f text--bold-w text--label text--center"}," Publications ",-1);function s(t,e,r,s,n,a){const c=(0,i.up)("CardProfile"),d=(0,i.up)("FluxPost");return(0,i.wg)(),(0,i.iD)("section",o,[(0,i.Wm)(c,{class:"profile__card-profile",userId:t.get_local_profile.userId,profilePicURL:null===t.get_local_profile.profilPictureURL?void 0:t.get_local_profile.profilPictureURL,firstName:t.get_local_profile.firstName,lastName:t.get_local_profile.lastName,email:t.get_local_profile.User.email,position:t.get_local_profile.position,description:t.get_local_profile.description},null,8,["userId","profilePicURL","firstName","lastName","email","position","description"]),l,(0,i.Wm)(d)])}var n=r(6307),a=r(947),c=r(8637),d={name:"Profile",el:"#profile",components:{CardProfile:n.Z,FluxPost:a.Z},computed:{...(0,c.Se)(["get_local_profile"])}},p=r(3744);const u=(0,p.Z)(d,[["render",s]]);var m=u},4217:function(t,e,r){t.exports=r.p+"img/delete.3f64b2f0.svg"},3562:function(t,e,r){t.exports=r.p+"img/modify.b8865c33.svg"}}]);
//# sourceMappingURL=766.7dd4ea42.js.map